<!DOCTYPE html>
<html lang="ru">
	<head>
		<meta charset="utf-8" />
		<title>Путешественник</title>
		<script src="traveler.js"></script>
	</head>

<body>
	<script type='text/javascript'>
		window.onload = function() {
			/* Url: www.... - перемешиваем массив */
			Array.prototype.shuffle = function( b ) {
				var i = this.length, j, t;
				while( i ) {
					j = Math.floor( ( i-- ) * Math.random() );
					t = b && typeof this[i].shuffle!=='undefined' ? this[i].shuffle() : this[i];
					this[i] = this[j];
					this[j] = t;
				}
				return this;
			};
			
			cards = new Array();
			/* Генерируем нужное количество */
			for(var i=0; i<10; i++) {
				cards.push(
					{
						'from': 'AAA'+i,
						'to': 'AAA'+(i+1),
						'seat': '5C',
						'id': '',
						'transport': 'airplane',
						'options': {
							'price': {
								'name': 'Цена',
								'description': '110р',
								'display': true,
							},
							'baggage': {
								'name': 'Багаж',
								'description': 'Забрать в шлюзе',
								'display': true,
							},
							'date_departure': {
								'name': 'Дата отъезда',
								'description': '06.10.2013',
								'display': true,
							},
						},
					}
				);
			}
			
			/*var cards = new Array(
				{
					'from': 'Stockholm',
					'to': 'New York JFK',
					'seat': '',
					'type_transport': 'airplane',
				},
				{
					'from': 'Barcelona',
					'to': 'Gerona Airport',
					'seat': '',
					'type_transport': 'airport bus',
				},
				{
					'from': 'Madrid',
					'to': 'Barcelona',
					'seat': '',
					'type_transport': 'train',
				},
				{
					'from': 'Gerona Airport',
					'to': 'Stockholm',
					'seat': '',
					'type_transport': 'airplane',
				}
			);*/

			traveler = new Traveler({'cards':cards.shuffle()});
			
			traveler.buildTravelCard();
			
			traveler.getCards({'transport':'airplane', 'options':{'key':'price', 'description':'100р'}});
			
			//Добавление карточки в путешествие
			/*try{
				traveler.addCard({});
			} catch(error) {
				alert(error.message);
			}*/
			
		}
	</script>
	
	<div id='travel'></div>
	<div id='travel2'></div>
</body>
